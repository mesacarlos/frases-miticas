<app-navbar />

<div class="w-full">
    <form [formGroup]="searchForm" class="flex justify-center mt-5">
        <mat-form-field class="w-11/12 xl:w-2/4">
            <input id="search" (keyup)="search()" matInput type="search" placeholder="Búsqueda por texto o autor..." formControlName="search">
            <button matSuffix (click)="search()" class="pr-3">
                <mat-icon class="text-white">search</mat-icon>
            </button>
        </mat-form-field>
    </form>
</div>

<div class="flex justify-end xl:mr-64">
    <div class="flex flex-col justify-end">
        <mat-paginator
            (page)="handlePageEvent($event)"
            [length]="length"
            [pageSize]="itemsPerPage"
            [pageSizeOptions]="[5, 10, 25, 100]"
            [showFirstLastButtons]="true"
            aria-label="Select page"
        >
        </mat-paginator>
        <br>
        <button mat-flat-button color="primary" (click)="addPhrase()">Añadir frase <mat-icon>add</mat-icon></button>
    </div>
</div>

@if (loading) {
    <div class="flex justify-center align-middle mt-60">
        <mat-spinner></mat-spinner>
    </div>
}

@if (phrases.length === 0 && !loading) {
    <h1 class="text-center text-white text-5xl mt-20">No hay ninguna frase para mostrar</h1>
}

<div class="mt-4 m-auto grid grid-cols-1 md:grid-cols-2 gap-4 p-5 xl:max-w-screen-xl">
    @for (phrase of phrases; track $index) {
        <app-card [phrase]="phrase" />
    }
</div>

<div class="flex justify-end align-middle mr-10 xl:mr-40">
    <button class="flex justify-center align-middle mb-10 p-5 up-button" (click)="scrollToTop()">
        <mat-icon class="text-white up-icon">expand_less</mat-icon>
    </button>
</div>
